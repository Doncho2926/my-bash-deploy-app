#!/bin/bash

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ —Å–º–µ –≤ Git —Ä–µ–ø–æ
if [ ! -d .git ]; then
  echo "‚ùå –ù–µ —Å–µ –Ω–∞–º–∏—Ä–∞—à –≤ Git —Ä–µ–ø–æ. –ò–∑–ª–µ–∑."
  exit 1
fi

echo "==‚û°Ô∏è –°–≤–∞–ª—è–º –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–∏ –æ—Ç Git..."
git pull origin main || echo "‚ö†Ô∏è –ü—Ä–æ–¥—ä–ª–∂–∞–≤–∞–º–µ —Å –ª–æ–∫–∞–ª–Ω–∏—è –∫–æ–¥"

echo "==üê≥ –°–ø–∏—Ä–∞–º —Ç–µ–∫—É—â–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏..."
docker-compose down

echo "==üîß –°—ä–∑–¥–∞–≤–∞–º –Ω–æ–≤–∏..."
docker-compose up -d --build

echo "‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Ä–∞–±–æ—Ç–∏ –Ω–∞ http://localhost:8080"

