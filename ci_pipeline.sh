#!/bin/bash

set -e  # –°–ø–∏—Ä–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏ –ø—ä—Ä–≤–∞ –≥—Ä–µ—à–∫–∞

echo "üîÅ == CI/CD PIPELINE –°–¢–ê–†–¢–ò–†–ê–ù =="

echo "üì¶ == –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ =="
sleep 1
# –°–∏–º—É–ª–∞—Ü–∏—è: –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è (–Ω–∞–ø—Ä. npm install, pip install –∏ —Ç.–Ω.)
echo "npm install (—Å–∏–º—É–ª–∞—Ü–∏—è)"

echo "üß™ == –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ =="
sleep 1
# –°–∏–º—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ
echo "npm test (—Å–∏–º—É–ª–∞—Ü–∏—è)"
# exit 1   # ‚Üê –ú–æ–∂–µ—à –¥–∞ –º–∞—Ö–Ω–µ—à –∫–æ–º–µ–Ω—Ç–∞—Ä–∞, –∑–∞ –¥–∞ —Å–∏–º—É–ª–∏—Ä–∞—à –ø—Ä–æ–≤–∞–ª
#echo "–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–≤–∞–Ω–µ!"

echo "üèóÔ∏è == Build –ø—Ä–æ—Ü–µ—Å =="
sleep 1
echo "npm run build (—Å–∏–º—É–ª–∞—Ü–∏—è)"

echo "üöÄ == Deploy =="
sleep 1
echo "rsync / scp / docker push (—Å–∏–º—É–ª–∞—Ü–∏—è)"

echo "‚úÖ CI/CD –ø—Ä–æ—Ü–µ—Å—ä—Ç –º–∏–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"

